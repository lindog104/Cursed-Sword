[gd_scene load_steps=15 format=3 uid="uid://ba7pqrp1sr12"]

[ext_resource type="Script" path="res://scripts/enemies/state_slime.gd" id="1_nxx33"]
[ext_resource type="Texture2D" uid="uid://bkw5f85orddp0" path="res://assets/sprites/enemies/pixil-layer-Slime.png" id="2_muf55"]
[ext_resource type="PackedScene" uid="uid://dynu3c1quufp0" path="res://scenes/hurtbox_component.tscn" id="3_n8usa"]
[ext_resource type="PackedScene" uid="uid://dpubgon71gsw6" path="res://scenes/hitbox_component.tscn" id="4_g05hs"]
[ext_resource type="Script" path="res://scripts/states/state_machine.gd" id="5_5emyv"]
[ext_resource type="Script" path="res://scripts/components/knockback_component.gd" id="5_rd1xi"]
[ext_resource type="Script" path="res://scripts/states/slime/follow.gd" id="7_mranj"]
[ext_resource type="Script" path="res://scripts/states/slime/cooldown.gd" id="8_6l250"]
[ext_resource type="Script" path="res://scripts/states/slime/attack.gd" id="8_72o0q"]
[ext_resource type="Script" path="res://scripts/states/slime/stunned.gd" id="9_i1i11"]
[ext_resource type="Script" path="res://scripts/states/slime/die.gd" id="10_a38dp"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eumq4"]
size = Vector2(72, 20)

[sub_resource type="CircleShape2D" id="CircleShape2D_06l5c"]
radius = 43.0465

[sub_resource type="CircleShape2D" id="CircleShape2D_id38e"]
radius = 43.0116

[node name="StateSlime" type="CharacterBody2D"]
script = ExtResource("1_nxx33")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(8, 8)
texture = ExtResource("2_muf55")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1, 30)
shape = SubResource("RectangleShape2D_eumq4")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
target_desired_distance = 50.0

[node name="HurtboxComponent" parent="." node_paths=PackedStringArray("knockback_component") instance=ExtResource("3_n8usa")]
knockback_component = NodePath("../KnockbackComponent")
max_health = 50

[node name="CollisionShape2D" parent="HurtboxComponent" index="0"]
position = Vector2(-1, 5)
shape = SubResource("CircleShape2D_06l5c")
debug_color = Color(0.202721, 0.640799, 0, 0.42)

[node name="HitboxComponent" parent="." instance=ExtResource("4_g05hs")]
damage = 25
disabled = true

[node name="CollisionShape2D" parent="HitboxComponent" index="0"]
position = Vector2(0, 5)
shape = SubResource("CircleShape2D_id38e")

[node name="KnockbackComponent" type="Node" parent="."]
script = ExtResource("5_rd1xi")

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]
position = Vector2(-0.500003, 4.5)
scale = Vector2(3.95, 3.65)

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initialState")]
script = ExtResource("5_5emyv")
initialState = NodePath("Follow")

[node name="Follow" type="Node" parent="StateMachine"]
script = ExtResource("7_mranj")

[node name="Attack" type="Node" parent="StateMachine"]
script = ExtResource("8_72o0q")

[node name="Cooldown" type="Node" parent="StateMachine"]
script = ExtResource("8_6l250")

[node name="Stunned" type="Node" parent="StateMachine"]
script = ExtResource("9_i1i11")

[node name="Die" type="Node" parent="StateMachine"]
script = ExtResource("10_a38dp")

[connection signal="target_reached" from="NavigationAgent2D" to="StateMachine/Follow" method="on_target_reached"]

[editable path="HurtboxComponent"]
[editable path="HitboxComponent"]
